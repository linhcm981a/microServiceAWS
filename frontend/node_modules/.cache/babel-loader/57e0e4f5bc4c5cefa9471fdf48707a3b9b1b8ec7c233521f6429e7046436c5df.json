{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./ProfileModal.module.scss\";import classNames from'classnames/bind';import{faClose}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import*as authService from\"../../../services/authService\";import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{createAxios}from\"../../../createInstance\";import{loginSuccess}from\"../../../redux/authSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function PasswordModal(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),oldPassword=_useState2[0],setOldPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var dispatch=useDispatch();var user=useSelector(function(state){return state.auth.login.currentUser;});var token=useSelector(function(state){return state.auth.login.currentUser.accessToken;});var axiosJWT=createAxios(user,dispatch,loginSuccess);var handleChangePassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data={oldPassword:oldPassword,newPassword:newPassword};_context.next=3;return authService.changePassword(axiosJWT,data,token,user._id);case 3:result=_context.sent;result&&window.alert('Đổi mật khẩu thành công');props.callbackPasswordModal(false);case 6:case\"end\":return _context.stop();}},_callee);}));return function handleChangePassword(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:cx('modal'),onClick:function onClick(){return props.callbackPasswordModal(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:cx('modal__overlay')}),/*#__PURE__*/_jsx(\"div\",{className:cx('modal__body'),onClick:function onClick(e){return e.stopPropagation();},children:/*#__PURE__*/_jsx(\"div\",{className:cx('wrapper'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('inner'),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('header'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faClose,className:cx('close_icon'),onClick:function onClick(e){return props.callbackPasswordModal(false);}})]}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"M\\u1EADt kh\\u1EA9u c\\u0169\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:oldPassword,onChange:function onChange(e){return setOldPassword(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button-primary\",onClick:handleChangePassword,children:\"L\\u01B0u\"})})]})]})})]})})})]});}export default PasswordModal;","map":{"version":3,"names":["styles","classNames","faClose","FontAwesomeIcon","authService","useState","useDispatch","useSelector","createAxios","loginSuccess","jsx","_jsx","jsxs","_jsxs","cx","bind","PasswordModal","props","_useState","_useState2","_slicedToArray","oldPassword","setOldPassword","_useState3","_useState4","newPassword","setNewPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","dispatch","user","state","auth","login","currentUser","token","accessToken","axiosJWT","handleChangePassword","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","result","wrap","_callee$","_context","prev","next","changePassword","_id","sent","window","alert","callbackPasswordModal","stop","apply","arguments","className","onClick","children","e","stopPropagation","icon","type","value","onChange","target"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/components/Admin/Profile/PasswordModal.js"],"sourcesContent":["import styles from './ProfileModal.module.scss';\nimport classNames from 'classnames/bind';\nimport { faClose } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport * as authService from '~/services/authService';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createAxios } from '~/createInstance';\nimport { loginSuccess } from '~/redux/authSlice';\n\nconst cx = classNames.bind(styles);\n\nfunction PasswordModal(props) {\n    const [oldPassword, setOldPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const dispatch = useDispatch();\n\n    const user = useSelector((state) => state.auth.login.currentUser);\n    const token = useSelector((state) => state.auth.login.currentUser.accessToken);\n\n    let axiosJWT = createAxios(user, dispatch, loginSuccess);\n\n    const handleChangePassword = async () => {\n        const data = {\n            oldPassword,\n            newPassword,\n        };\n        const result = await authService.changePassword(axiosJWT, data, token, user._id);\n        result && window.alert('Đổi mật khẩu thành công');\n        props.callbackPasswordModal(false);\n    };\n    return (\n        <div className={cx('modal')} onClick={() => props.callbackPasswordModal(false)}>\n            <div className={cx('modal__overlay')}></div>\n            <div className={cx('modal__body')} onClick={(e) => e.stopPropagation()}>\n                <div className={cx('wrapper')}>\n                    <div className={cx('inner')}>\n                        <div className={cx('header')}>\n                            <h3>Đổi mật khẩu</h3>\n                            <FontAwesomeIcon\n                                icon={faClose}\n                                className={cx('close_icon')}\n                                onClick={(e) => props.callbackPasswordModal(false)}\n                            />\n                        </div>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td>Mật khẩu cũ</td>\n                                    <td>\n                                        <input\n                                            type=\"password\"\n                                            value={oldPassword}\n                                            onChange={(e) => setOldPassword(e.target.value)}\n                                        />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Mật khẩu mới</td>\n                                    <td>\n                                        <input\n                                            type=\"password\"\n                                            value={newPassword}\n                                            onChange={(e) => setNewPassword(e.target.value)}\n                                        />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Xác nhận mật khẩu</td>\n                                    <td>\n                                        <input\n                                            type=\"password\"\n                                            value={confirmPassword}\n                                            onChange={(e) => setConfirmPassword(e.target.value)}\n                                        />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td></td>\n                                    <td>\n                                        <button className=\"button-primary\" onClick={handleChangePassword}>\n                                            Lưu\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default PasswordModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}