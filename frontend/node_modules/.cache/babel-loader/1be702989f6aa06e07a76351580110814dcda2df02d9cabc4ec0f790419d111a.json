{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Purchase.module.scss\";import classNames from'classnames/bind';import images from\"../../assets/images\";import{useEffect,useState}from'react';import*as orderService from\"../../services/orderService\";import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function Purchase(){var user=useSelector(function(state){return state.auth.login.currentUser;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(!user){return;}var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return orderService.getOrderUser(user===null||user===void 0?void 0:user._id);case 2:result=_context.sent;setOrders(result);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var VND=new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'});return/*#__PURE__*/_jsxs(\"div\",{className:cx('wrapper'),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('header'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('active'),children:/*#__PURE__*/_jsx(\"span\",{children:\"T\\u1EA5t c\\u1EA3\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Ch\\u1EDD x\\xE1c nh\\u1EADn\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0110\\xE3 x\\xE1c nh\\u1EADn\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"V\\u1EADn chuy\\u1EC3n\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Ho\\xE0n th\\xE0nh\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u0110\\xE3 H\\u1EE7y\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:\"Tr\\u1EA3 h\\xE0ng/ho\\xE0n ti\\u1EC1n\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:cx('body'),children:orders&&orders.map(function(order,index){return/*#__PURE__*/_jsx(\"div\",{className:'box-shadow '+cx('container'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('product'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('status'),children:order.status}),order.products.map(function(orderDetail,indexx){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('product_detail'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('product_detail-img'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('img'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('no-img'),children:/*#__PURE__*/_jsx(\"img\",{src:images.noImage,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:cx('have-img'),style:{backgroundImage:\"url(\".concat(orderDetail.image,\")\")}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:cx('product_detail-text'),children:[/*#__PURE__*/_jsx(\"div\",{className:cx('detail'),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:orderDetail.name})})}),/*#__PURE__*/_jsxs(\"div\",{className:cx('quantity'),children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[\"x\",orderDetail.quantity]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:cx('price'),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:VND.format(orderDetail.price*orderDetail.quantity)})})})]})})},indexx);}),/*#__PURE__*/_jsx(\"div\",{className:cx('br')}),/*#__PURE__*/_jsx(\"div\",{className:cx('money'),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Th\\xE0nh ti\\u1EC1n: \"}),/*#__PURE__*/_jsx(\"div\",{children:VND.format(order.totalPrice)})]})})]})},index);})})]});}export default Purchase;","map":{"version":3,"names":["styles","classNames","images","useEffect","useState","orderService","useSelector","jsx","_jsx","jsxs","_jsxs","cx","bind","Purchase","user","state","auth","login","currentUser","_useState","_useState2","_slicedToArray","orders","setOrders","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","getOrderUser","_id","sent","stop","apply","arguments","VND","Intl","NumberFormat","style","currency","className","children","map","order","index","status","products","orderDetail","indexx","src","noImage","alt","backgroundImage","concat","image","name","quantity","format","price","totalPrice"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/components/Purchase/index.js"],"sourcesContent":["import styles from './Purchase.module.scss';\nimport classNames from 'classnames/bind';\nimport images from '~/assets/images';\nimport { useEffect, useState } from 'react';\nimport * as orderService from '~/services/orderService';\nimport { useSelector } from 'react-redux';\n\nconst cx = classNames.bind(styles);\n\nfunction Purchase() {\n    const user = useSelector((state) => state.auth.login.currentUser);\n    const [orders, setOrders] = useState('');\n    useEffect(() => {\n        if (!user) {\n            return;\n        }\n        const fetchData = async () => {\n            const result = await orderService.getOrderUser(user?._id);\n\n            setOrders(result);\n        };\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const VND = new Intl.NumberFormat('vi-VN', {\n        style: 'currency',\n        currency: 'VND',\n    });\n\n    return (\n        <div className={cx('wrapper')}>\n            <div className={cx('header')}>\n                <div className={cx('active')}>\n                    <span>Tất cả</span>\n                </div>\n                <div>\n                    <span>Chờ xác nhận</span>\n                </div>\n                <div>\n                    <span>Đã xác nhận</span>\n                </div>\n                <div>\n                    <span>Vận chuyển</span>\n                </div>\n                <div>\n                    <span>Hoàn thành</span>\n                </div>\n                <div>\n                    <span>Đã Hủy</span>\n                </div>\n                <div>\n                    <span>Trả hàng/hoàn tiền</span>\n                </div>\n            </div>\n            <div className={cx('body')}>\n                {orders &&\n                    orders.map((order, index) => (\n                        <div className={'box-shadow ' + cx('container')} key={index}>\n                            <div className={cx('product')}>\n                                <div className={cx('status')}>{order.status}</div>\n                                {order.products.map((orderDetail, indexx) => (\n                                    <div key={indexx}>\n                                        <div>\n                                            <span>\n                                                <div className={cx('product_detail')}>\n                                                    <div className={cx('product_detail-img')}>\n                                                        <div className={cx('img')}>\n                                                            <div className={cx('no-img')}>\n                                                                <img src={images.noImage} alt=\"\" />\n                                                            </div>\n\n                                                            <div\n                                                                className={cx('have-img')}\n                                                                style={{ backgroundImage: `url(${orderDetail.image})` }}\n                                                            ></div>\n                                                        </div>\n                                                    </div>\n                                                    <div className={cx('product_detail-text')}>\n                                                        <div className={cx('detail')}>\n                                                            <div>\n                                                                <span>{orderDetail.name}</span>\n                                                            </div>\n                                                        </div>\n                                                        <div className={cx('quantity')}>\n                                                            <div></div>\n                                                            <div>x{orderDetail.quantity}</div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className={cx('price')}>\n                                                    <div>\n                                                        <span>\n                                                            {VND.format(orderDetail.price * orderDetail.quantity)}\n                                                        </span>\n                                                    </div>\n                                                </div>\n                                            </span>\n                                        </div>\n                                    </div>\n                                ))}\n                                <div className={cx('br')}></div>\n                                <div className={cx('money')}>\n                                    <div>\n                                        <div>Thành tiền: </div>\n                                        <div>{VND.format(order.totalPrice)}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Purchase;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}