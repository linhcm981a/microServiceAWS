{"ast":null,"code":"import _objectSpread from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{registerFailed,registerStart,registerSuccess,loginFailed,loginStart,loginSuccess,logoutStart,logoutSuccess,logoutFailed,updateStart,updateSuccess,updateFailed}from\"../redux/authSlice\";import*as httpRequest from\"../utils/httpRequest\";export var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,name,password,dispatch){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch(registerStart());_context.prev=1;_context.next=4;return httpRequest.post('user/auth/register',{email:email,name:name,password:password});case 4:res=_context.sent;dispatch(registerSuccess(res));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(registerFailed());case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function register(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();export var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email,password,dispatch){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:dispatch(loginStart());_context2.prev=1;_context2.next=4;return httpRequest.post('user/auth/login',{email:email,password:password});case 4:res=_context2.sent;dispatch(loginSuccess(res));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(loginFailed());case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function login(_x5,_x6,_x7){return _ref2.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,token){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:dispatch(logoutStart());_context3.prev=1;_context3.next=4;return httpRequest.post('user/auth/logout',{token:token});case 4:res=_context3.sent;dispatch(logoutSuccess(res));_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch(logoutFailed());case 11:case\"end\":return _context3.stop();}},_callee3,null,[[1,8]]);}));return function logout(_x8,_x9){return _ref3.apply(this,arguments);};}();export var updateUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(axiosJWT,user,accessToken,dispatch,id){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:dispatch(updateStart());_context4.prev=1;_context4.next=4;return axiosJWT.put(\"user/auth/\".concat(id),_objectSpread({},user),{headers:{token:\"Bearer \".concat(accessToken)}});case 4:res=_context4.sent;console.log(res.data);dispatch(updateSuccess(res.data));_context4.next=12;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](1);dispatch(updateFailed());case 12:case\"end\":return _context4.stop();}},_callee4,null,[[1,9]]);}));return function updateUser(_x10,_x11,_x12,_x13,_x14){return _ref4.apply(this,arguments);};}();export var changePassword=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(axiosJWT,data,accessToken,id){var res;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axiosJWT.put(\"user/auth/changePassword/\".concat(id),_objectSpread({},data),{headers:{token:\"Bearer \".concat(accessToken)}});case 3:res=_context5.sent;return _context5.abrupt(\"return\",res.data);case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);case 10:case\"end\":return _context5.stop();}},_callee5,null,[[0,7]]);}));return function changePassword(_x15,_x16,_x17,_x18){return _ref5.apply(this,arguments);};}();export var forgotPassword=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(email){var res;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return httpRequest.post('user/auth/forgot-password',{email:email});case 3:res=_context6.sent;return _context6.abrupt(\"return\",res);case 7:_context6.prev=7;_context6.t0=_context6[\"catch\"](0);console.log(_context6.t0);case 10:case\"end\":return _context6.stop();}},_callee6,null,[[0,7]]);}));return function forgotPassword(_x19){return _ref6.apply(this,arguments);};}();export var resetPassword=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(newPassword,token){var res;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return httpRequest.patch('user/auth/reset-password',{newPassword:newPassword,token:token});case 3:res=_context7.sent;return _context7.abrupt(\"return\",res);case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](0);console.log(_context7.t0);case 10:case\"end\":return _context7.stop();}},_callee7,null,[[0,7]]);}));return function resetPassword(_x20,_x21){return _ref7.apply(this,arguments);};}();","map":{"version":3,"names":["registerFailed","registerStart","registerSuccess","loginFailed","loginStart","loginSuccess","logoutStart","logoutSuccess","logoutFailed","updateStart","updateSuccess","updateFailed","httpRequest","register","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","name","password","dispatch","res","wrap","_callee$","_context","prev","next","post","sent","t0","stop","_x","_x2","_x3","_x4","apply","arguments","login","_ref2","_callee2","_callee2$","_context2","_x5","_x6","_x7","logout","_ref3","_callee3","token","_callee3$","_context3","_x8","_x9","updateUser","_ref4","_callee4","axiosJWT","user","accessToken","id","_callee4$","_context4","put","concat","_objectSpread","headers","console","log","data","_x10","_x11","_x12","_x13","_x14","changePassword","_ref5","_callee5","_callee5$","_context5","abrupt","_x15","_x16","_x17","_x18","forgotPassword","_ref6","_callee6","_callee6$","_context6","_x19","resetPassword","_ref7","_callee7","newPassword","_callee7$","_context7","patch","_x20","_x21"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/services/authService.js"],"sourcesContent":["import {\n    registerFailed,\n    registerStart,\n    registerSuccess,\n    loginFailed,\n    loginStart,\n    loginSuccess,\n    logoutStart,\n    logoutSuccess,\n    logoutFailed,\n    updateStart,\n    updateSuccess,\n    updateFailed,\n} from '~/redux/authSlice';\nimport * as httpRequest from '~/utils/httpRequest';\n\nexport const register = async (email, name, password, dispatch) => {\n    dispatch(registerStart());\n    try {\n        const res = await httpRequest.post('user/auth/register', { email, name, password });\n        dispatch(registerSuccess(res));\n    } catch (error) {\n        dispatch(registerFailed());\n    }\n};\n\nexport const login = async (email, password, dispatch) => {\n    dispatch(loginStart());\n    try {\n        const res = await httpRequest.post('user/auth/login', { email, password });\n        dispatch(loginSuccess(res));\n    } catch (error) {\n        dispatch(loginFailed());\n    }\n};\n\nexport const logout = async (dispatch, token) => {\n    dispatch(logoutStart());\n    try {\n        const res = await httpRequest.post('user/auth/logout', { token });\n        dispatch(logoutSuccess(res));\n    } catch (error) {\n        dispatch(logoutFailed());\n    }\n};\n\nexport const updateUser = async (axiosJWT, user, accessToken, dispatch, id) => {\n    dispatch(updateStart());\n    try {\n        const res = await axiosJWT.put(\n            `user/auth/${id}`,\n            { ...user },\n            {\n                headers: { token: `Bearer ${accessToken}` },\n            },\n        );\n        console.log(res.data);\n        dispatch(updateSuccess(res.data));\n    } catch (error) {\n        dispatch(updateFailed());\n    }\n};\n\nexport const changePassword = async (axiosJWT, data, accessToken, id) => {\n    try {\n        const res = await axiosJWT.put(\n            `user/auth/changePassword/${id}`,\n            { ...data },\n            {\n                headers: { token: `Bearer ${accessToken}` },\n            },\n        );\n        return res.data;\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const forgotPassword = async (email) => {\n    try {\n        const res = await httpRequest.post('user/auth/forgot-password', { email });\n        return res;\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const resetPassword = async (newPassword, token) => {\n    try {\n        const res = await httpRequest.patch('user/auth/reset-password', { newPassword, token });\n        return res;\n    } catch (error) {\n        console.log(error);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}