{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./ProfileModal.module.scss\";import classNames from'classnames/bind';import{useState}from'react';import{createAxios}from\"../../../createInstance\";import{loginSuccess}from\"../../../redux/authSlice\";import{useDispatch,useSelector}from'react-redux';import*as authService from\"../../../services/authService\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faClose}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function ProfileModal(props){var _useState=useState(props.data.name||''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(props.data.email||''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(props.data.phone||''),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var _useState7=useState(props.data.address||''),_useState8=_slicedToArray(_useState7,2),address=_useState8[0],setAddress=_useState8[1];var _useState9=useState(props.data.specificAddress||''),_useState10=_slicedToArray(_useState9,2),specificAddress=_useState10[0],setSpecificAddress=_useState10[1];var user=useSelector(function(state){return state.auth.login.currentUser;});var dispatch=useDispatch();var axiosJWT=createAxios(user,dispatch,loginSuccess);console.log(user);var handleUpdate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var userData,accessToken,value;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:userData={name:name,email:email,phone:phone,address:address,specificAddress:specificAddress};accessToken=user.accessToken;value=window.confirm('Xác nhận cập nhật thông tin');_context.t0=value;if(!_context.t0){_context.next=7;break;}_context.next=7;return authService.updateUser(axiosJWT,userData,accessToken,dispatch,props.data._id);case 7:props.callbackModal(false);case 8:case\"end\":return _context.stop();}},_callee);}));return function handleUpdate(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:cx('modal'),onClick:function onClick(){return props.callbackModal(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:cx('modal__overlay')}),/*#__PURE__*/_jsx(\"div\",{className:cx('modal__body'),onClick:function onClick(e){return e.stopPropagation();},children:/*#__PURE__*/_jsx(\"div\",{className:cx('wrapper'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('inner'),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('header'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"C\\u1EADp nh\\u1EADt th\\xF4ng tin\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faClose,className:cx('close_icon'),onClick:function onClick(e){return props.callbackModal(false);}})]}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"T\\xEAn\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:phone,onChange:function onChange(e){return setPhone(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\u0110\\u1ECBa ch\\u1EC9\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:address,onChange:function onChange(e){return setAddress(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\\u0110\\u1ECBa ch\\u1EC9 c\\u1EE5 th\\u1EC3\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{value:specificAddress,onChange:function onChange(e){return setSpecificAddress(e.target.value);}})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button-primary\",onClick:function onClick(){return handleUpdate();},children:\"L\\u01B0u\"})})]})]})})]})})})]});}export default ProfileModal;","map":{"version":3,"names":["styles","classNames","useState","createAxios","loginSuccess","useDispatch","useSelector","authService","FontAwesomeIcon","faClose","jsx","_jsx","jsxs","_jsxs","cx","bind","ProfileModal","props","_useState","data","name","_useState2","_slicedToArray","setName","_useState3","email","_useState4","setEmail","_useState5","phone","_useState6","setPhone","_useState7","address","_useState8","setAddress","_useState9","specificAddress","_useState10","setSpecificAddress","user","state","auth","login","currentUser","dispatch","axiosJWT","console","log","handleUpdate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","userData","accessToken","value","wrap","_callee$","_context","prev","next","window","confirm","t0","updateUser","_id","callbackModal","stop","_x","apply","arguments","className","onClick","children","stopPropagation","icon","type","onChange","target"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/components/Admin/Profile/ProfileModal.js"],"sourcesContent":["import styles from './ProfileModal.module.scss';\nimport classNames from 'classnames/bind';\nimport { useState } from 'react';\n\nimport { createAxios } from '~/createInstance';\nimport { loginSuccess } from '~/redux/authSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as authService from '~/services/authService';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClose } from '@fortawesome/free-solid-svg-icons';\n\nconst cx = classNames.bind(styles);\n\nfunction ProfileModal(props) {\n    const [name, setName] = useState(props.data.name || '');\n    const [email, setEmail] = useState(props.data.email || '');\n    const [phone, setPhone] = useState(props.data.phone || '');\n    const [address, setAddress] = useState(props.data.address || '');\n    const [specificAddress, setSpecificAddress] = useState(props.data.specificAddress || '');\n    const user = useSelector((state) => state.auth.login.currentUser);\n    const dispatch = useDispatch();\n\n    let axiosJWT = createAxios(user, dispatch, loginSuccess);\n    console.log(user);\n\n    const handleUpdate = async (e) => {\n        const userData = {\n            name,\n            email,\n            phone,\n            address,\n            specificAddress,\n        };\n        const accessToken = user.accessToken;\n        const value = window.confirm('Xác nhận cập nhật thông tin');\n        value && (await authService.updateUser(axiosJWT, userData, accessToken, dispatch, props.data._id));\n        props.callbackModal(false);\n    };\n\n    return (\n        <div className={cx('modal')} onClick={() => props.callbackModal(false)}>\n            <div className={cx('modal__overlay')}></div>\n            <div className={cx('modal__body')} onClick={(e) => e.stopPropagation()}>\n                <div className={cx('wrapper')}>\n                    <div className={cx('inner')}>\n                        <div className={cx('header')}>\n                            <h3>Cập nhật thông tin</h3>\n                            <FontAwesomeIcon\n                                icon={faClose}\n                                className={cx('close_icon')}\n                                onClick={(e) => props.callbackModal(false)}\n                            />\n                        </div>\n                        <table>\n                            <tbody>\n                                <tr>\n                                    <td>Email</td>\n                                    <td>\n                                        <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Tên</td>\n                                    <td>\n                                        <input value={name} onChange={(e) => setName(e.target.value)} />\n                                    </td>\n                                </tr>\n\n                                <tr>\n                                    <td>Số điện thoại</td>\n                                    <td>\n                                        <input value={phone} onChange={(e) => setPhone(e.target.value)} />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Địa chỉ</td>\n                                    <td>\n                                        <input value={address} onChange={(e) => setAddress(e.target.value)} />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>Địa chỉ cụ thể</td>\n                                    <td>\n                                        <input\n                                            value={specificAddress}\n                                            onChange={(e) => setSpecificAddress(e.target.value)}\n                                        />\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td></td>\n                                    <td>\n                                        <button className=\"button-primary\" onClick={() => handleUpdate()}>\n                                            Lưu\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProfileModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}