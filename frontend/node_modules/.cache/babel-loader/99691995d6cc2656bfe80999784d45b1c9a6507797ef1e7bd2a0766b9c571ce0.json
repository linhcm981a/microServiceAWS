{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./RatingModal.module.scss\";import classNames from'classnames/bind';import*as ratingService from\"../../services/ratingService\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faClose,faStar}from'@fortawesome/free-solid-svg-icons';import{useState}from'react';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function RatingModal(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),star=_useState2[0],setStar=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),comment=_useState4[0],setComment=_useState4[1];var user=useSelector(function(state){return state.auth.login.currentUser;});var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(user){_context.next=3;break;}alert('Bạn phải đăng nhập để đánh giá sản phẩm');return _context.abrupt(\"return\");case 3:data={userId:user._id,productId:props.data._id,username:user.name,comment:comment,rating:star};_context.next=6;return ratingService.createRating(data);case 6:props.callbackRatingModal(false);case 7:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:cx('modal'),onClick:function onClick(){return props.callbackRatingModal(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:cx('modal__overlay')}),/*#__PURE__*/_jsx(\"div\",{className:cx('modal__body'),onClick:function onClick(e){return e.stopPropagation();},children:/*#__PURE__*/_jsx(\"div\",{className:cx('wrapper'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('inner'),children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('header'),children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u0110\\xE1nh gi\\xE1 v\\xE0 nh\\u1EADn x\\xE9t \",props.data.nameProduct]}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faClose,className:cx('close_icon'),onClick:function onClick(e){return props.callbackRatingModal(false);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:cx('body'),children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Xin h\\xE3y chia s\\u1EBB m\\u1ED9t s\\u1ED1 c\\u1EA3m nh\\u1EADn v\\u1EC1 s\\u1EA3n ph\\u1EA9m n\\xE0y\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{className:cx('modal-review-star'),children:[/*#__PURE__*/_jsx(\"p\",{children:\"B\\u1EA1n th\\u1EA5y s\\u1EA3n ph\\u1EA9m n\\xE0y nh\\u01B0 th\\u1EBF n\\xE0o ?\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,onClick:function onClick(){return setStar(1);},style:star>=1?{color:'#f59e0b'}:{color:'black'}})}),/*#__PURE__*/_jsx(\"p\",{children:\"R\\u1EA5t t\\u1EC7\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,onClick:function onClick(){return setStar(2);},style:star>=2?{color:'#f59e0b'}:{color:'black'}})}),/*#__PURE__*/_jsx(\"p\",{children:\"T\\u1EC7\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,onClick:function onClick(){return setStar(3);},style:star>=3?{color:'#f59e0b'}:{color:'black'}})}),/*#__PURE__*/_jsx(\"p\",{children:\"B\\xECnh th\\u01B0\\u1EDDng\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,onClick:function onClick(){return setStar(4);},style:star>=4?{color:'#f59e0b'}:{color:'black'}})}),/*#__PURE__*/_jsx(\"p\",{children:\"T\\u1ED1t\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faStar,onClick:function onClick(){return setStar(5);},style:star===5?{color:'#f59e0b'}:{color:'black'}})}),/*#__PURE__*/_jsx(\"p\",{children:\"R\\u1EA5t t\\u1ED1t\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"G\\u1EEDi \\u0111\\xE1nh gi\\xE1\"})]})]})})})]});}export default RatingModal;","map":{"version":3,"names":["styles","classNames","ratingService","FontAwesomeIcon","faClose","faStar","useState","useSelector","jsx","_jsx","jsxs","_jsxs","cx","bind","RatingModal","props","_useState","_useState2","_slicedToArray","star","setStar","_useState3","_useState4","comment","setComment","user","state","auth","login","currentUser","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","alert","abrupt","userId","_id","productId","username","name","rating","createRating","callbackRatingModal","stop","apply","arguments","className","onClick","children","e","stopPropagation","nameProduct","icon","placeholder","value","onChange","target","style","color"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/pages/ProductDetail/RatingModal.js"],"sourcesContent":["import styles from './RatingModal.module.scss';\nimport classNames from 'classnames/bind';\nimport * as ratingService from '~/services/ratingService';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faClose, faStar } from '@fortawesome/free-solid-svg-icons';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\n\nconst cx = classNames.bind(styles);\n\nfunction RatingModal(props) {\n    const [star, setStar] = useState(0);\n    const [comment, setComment] = useState('');\n    const user = useSelector((state) => state.auth.login.currentUser);\n\n    const handleSubmit = async () => {\n        if (!user) {\n            alert('Bạn phải đăng nhập để đánh giá sản phẩm');\n            return;\n        }\n        const data = {\n            userId: user._id,\n            productId: props.data._id,\n            username: user.name,\n            comment,\n            rating: star,\n        };\n        await ratingService.createRating(data);\n        props.callbackRatingModal(false);\n    };\n    return (\n        <div className={cx('modal')} onClick={() => props.callbackRatingModal(false)}>\n            <div className={cx('modal__overlay')}></div>\n            <div className={cx('modal__body')} onClick={(e) => e.stopPropagation()}>\n                <div className={cx('wrapper')}>\n                    <div className={cx('inner')}>\n                        <div className={cx('header')}>\n                            <h3>Đánh giá và nhận xét {props.data.nameProduct}</h3>\n                            <FontAwesomeIcon\n                                icon={faClose}\n                                className={cx('close_icon')}\n                                onClick={(e) => props.callbackRatingModal(false)}\n                            />\n                        </div>\n                        <div className={cx('body')}>\n                            <textarea\n                                placeholder=\"Xin hãy chia sẻ một số cảm nhận về sản phẩm này\"\n                                value={comment}\n                                onChange={(e) => setComment(e.target.value)}\n                            ></textarea>\n                            <div className={cx('modal-review-star')}>\n                                <p>Bạn thấy sản phẩm này như thế nào ?</p>\n                                <div>\n                                    <div>\n                                        <div>\n                                            <FontAwesomeIcon\n                                                icon={faStar}\n                                                onClick={() => setStar(1)}\n                                                style={star >= 1 ? { color: '#f59e0b' } : { color: 'black' }}\n                                            />\n                                        </div>\n                                        <p>Rất tệ</p>\n                                    </div>\n                                    <div>\n                                        <div>\n                                            <FontAwesomeIcon\n                                                icon={faStar}\n                                                onClick={() => setStar(2)}\n                                                style={star >= 2 ? { color: '#f59e0b' } : { color: 'black' }}\n                                            />\n                                        </div>\n                                        <p>Tệ</p>\n                                    </div>\n                                    <div>\n                                        <div>\n                                            <FontAwesomeIcon\n                                                icon={faStar}\n                                                onClick={() => setStar(3)}\n                                                style={star >= 3 ? { color: '#f59e0b' } : { color: 'black' }}\n                                            />\n                                        </div>\n                                        <p>Bình thường</p>\n                                    </div>\n                                    <div>\n                                        <div>\n                                            <FontAwesomeIcon\n                                                icon={faStar}\n                                                onClick={() => setStar(4)}\n                                                style={star >= 4 ? { color: '#f59e0b' } : { color: 'black' }}\n                                            />\n                                        </div>\n                                        <p>Tốt</p>\n                                    </div>\n                                    <div>\n                                        <div>\n                                            <FontAwesomeIcon\n                                                icon={faStar}\n                                                onClick={() => setStar(5)}\n                                                style={star === 5 ? { color: '#f59e0b' } : { color: 'black' }}\n                                            />\n                                        </div>\n                                        <p>Rất tốt</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <button onClick={handleSubmit}>Gửi đánh giá</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default RatingModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}