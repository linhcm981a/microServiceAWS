{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Password.module.scss\";import classNames from'classnames/bind';import{Fragment}from'react';import*as authService from\"../../services/authService\";import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{createAxios}from\"../../createInstance\";import{loginSuccess}from\"../../redux/authSlice\";import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function Password(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),oldPassword=_useState2[0],setOldPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),confirmPassword=_useState6[0],setConfirmPassword=_useState6[1];var dispatch=useDispatch();var user=useSelector(function(state){return state.auth.login.currentUser;});var token=useSelector(function(state){var _state$auth$login$cur;return(_state$auth$login$cur=state.auth.login.currentUser)===null||_state$auth$login$cur===void 0?void 0:_state$auth$login$cur.accessToken;});var axiosJWT=createAxios(user,dispatch,loginSuccess);var handleChangePassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:data={oldPassword:oldPassword,newPassword:newPassword};_context.next=3;return authService.changePassword(axiosJWT,data,token,user._id);case 3:result=_context.sent;result&&window.alert('Đổi mật khẩu thành công');case 5:case\"end\":return _context.stop();}},_callee);}));return function handleChangePassword(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:cx('header'),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"div\",{children:\"\\u0110\\u1EC3 b\\u1EA3o m\\u1EADt t\\xE0i kho\\u1EA3n, vui l\\xF2ng kh\\xF4ng chia s\\u1EBB m\\u1EADt kh\\u1EA9u cho ng\\u01B0\\u1EDDi kh\\xE1c\"})]}),/*#__PURE__*/_jsx(\"div\",{className:cx('body'),children:/*#__PURE__*/_jsx(\"div\",{className:cx('inner'),children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"div\",{className:cx('currentPassword'),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"M\\u1EADt kh\\u1EA9u hi\\u1EC7n t\\u1EA1i\"})}),/*#__PURE__*/_jsx(\"div\",{className:cx('input'),children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:oldPassword,onChange:function onChange(e){return setOldPassword(e.target.value);}})}),/*#__PURE__*/_jsx(Link,{to:\"/users/forgotpassword\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Qu\\xEAn m\\u1EADt kh\\u1EA9u ?\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"})}),/*#__PURE__*/_jsx(\"div\",{className:cx('input'),children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);}})})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{children:\"X\\xE1c nh\\u1EADn m\\u1EADt kh\\u1EA9u\"})}),/*#__PURE__*/_jsx(\"div\",{className:cx('input'),children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:function onChange(e){return setConfirmPassword(e.target.value);}})})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:cx('input'),children:/*#__PURE__*/_jsx(\"button\",{onClick:handleChangePassword,children:\"X\\xE1c nh\\u1EADn\"})})]})})})]})})})]});}export default Password;","map":{"version":3,"names":["styles","classNames","Fragment","authService","useState","useDispatch","useSelector","createAxios","loginSuccess","Link","jsx","_jsx","jsxs","_jsxs","cx","bind","Password","_useState","_useState2","_slicedToArray","oldPassword","setOldPassword","_useState3","_useState4","newPassword","setNewPassword","_useState5","_useState6","confirmPassword","setConfirmPassword","dispatch","user","state","auth","login","currentUser","token","_state$auth$login$cur","accessToken","axiosJWT","handleChangePassword","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","result","wrap","_callee$","_context","prev","next","changePassword","_id","sent","window","alert","stop","apply","arguments","children","className","type","value","onChange","e","target","to","onClick"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/components/Password/index.js"],"sourcesContent":["import styles from './Password.module.scss';\nimport classNames from 'classnames/bind';\nimport { Fragment } from 'react';\nimport * as authService from '~/services/authService';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createAxios } from '~/createInstance';\nimport { loginSuccess } from '~/redux/authSlice';\nimport { Link } from 'react-router-dom';\nconst cx = classNames.bind(styles);\n\nfunction Password() {\n    const [oldPassword, setOldPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const dispatch = useDispatch();\n\n    const user = useSelector((state) => state.auth.login.currentUser);\n    const token = useSelector((state) => state.auth.login.currentUser?.accessToken);\n\n    let axiosJWT = createAxios(user, dispatch, loginSuccess);\n\n    const handleChangePassword = async () => {\n        const data = {\n            oldPassword,\n            newPassword,\n        };\n        const result = await authService.changePassword(axiosJWT, data, token, user._id);\n        result && window.alert('Đổi mật khẩu thành công');\n    };\n    return (\n        <Fragment>\n            <div className={cx('header')}>\n                <h2>Đổi mật khẩu</h2>\n                <div>Để bảo mật tài khoản, vui lòng không chia sẻ mật khẩu cho người khác</div>\n            </div>\n            <div className={cx('body')}>\n                <div className={cx('inner')}>\n                    <form>\n                        <div className={cx('currentPassword')}>\n                            <div>\n                                <div>\n                                    <div>\n                                        <label>Mật khẩu hiện tại</label>\n                                    </div>\n                                    <div className={cx('input')}>\n                                        <input\n                                            type=\"password\"\n                                            value={oldPassword}\n                                            onChange={(e) => setOldPassword(e.target.value)}\n                                        />\n                                    </div>\n                                    <Link to=\"/users/forgotpassword\">\n                                        <button>Quên mật khẩu ?</button>\n                                    </Link>\n                                </div>\n                            </div>\n                        </div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div>\n                                        <label>Mật khẩu mới</label>\n                                    </div>\n                                    <div className={cx('input')}>\n                                        <input\n                                            type=\"password\"\n                                            value={newPassword}\n                                            onChange={(e) => setNewPassword(e.target.value)}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div>\n                                        <label>Xác nhận mật khẩu</label>\n                                    </div>\n                                    <div className={cx('input')}>\n                                        <input\n                                            type=\"password\"\n                                            value={confirmPassword}\n                                            onChange={(e) => setConfirmPassword(e.target.value)}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div></div>\n                                    <div className={cx('input')}>\n                                        <button onClick={handleChangePassword}>Xác nhận</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Password;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}