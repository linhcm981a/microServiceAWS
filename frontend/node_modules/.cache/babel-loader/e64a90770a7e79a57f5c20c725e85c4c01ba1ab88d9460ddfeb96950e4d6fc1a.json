{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luuduylinh/Desktop/PhoneStore/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Users.module.scss\";import classNames from'classnames/bind';import{useEffect,useState}from'react';import*as userService from\"../../../services/userService\";import{useDispatch,useSelector}from'react-redux';import{createAxios}from\"../../../createInstance\";import{loginSuccess}from\"../../../redux/authSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var cx=classNames.bind(styles);function Users(){var user=useSelector(function(state){return state.auth.login.currentUser;});var _useState=useState(),_useState2=_slicedToArray(_useState,2),allUsers=_useState2[0],setAllUsers=_useState2[1];var dispatch=useDispatch();var axiosJWT=createAxios(user,dispatch,loginSuccess);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return userService.getAllUser(axiosJWT,user);case 2:result=_context.sent;setAllUsers(result);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var value;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(allUsers);value=window.confirm('Xác nhận xóa người dùng');_context2.t0=value;if(!_context2.t0){_context2.next=6;break;}_context2.next=6;return userService.deleteUser(axiosJWT,user,allUsers[e.target.value]._id);case 6:case\"end\":return _context2.stop();}},_callee2);}));return function handleDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:cx('wrapper'),children:/*#__PURE__*/_jsx(\"div\",{className:cx('body'),children:/*#__PURE__*/_jsxs(\"div\",{className:cx('product_list'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Danh s\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng\"}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"H\\u1ECD t\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110\\u1ECBa ch\\u1EC9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110\\u1ECBa ch\\u1EC9 c\\u1EE5 th\\u1EC3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"})]}),allUsers&&allUsers.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.address}),/*#__PURE__*/_jsx(\"td\",{children:user.specificAddress}),/*#__PURE__*/_jsx(\"td\",{children:user.phone}),/*#__PURE__*/_jsx(\"td\",{className:cx('delete'),children:/*#__PURE__*/_jsx(\"button\",{className:cx('delete_icon'),value:index,onClick:function onClick(e){return handleDelete(e);},children:\"X\\xF3a\"})})]},index);})]})})]})})});}export default Users;","map":{"version":3,"names":["styles","classNames","useEffect","useState","userService","useDispatch","useSelector","createAxios","loginSuccess","jsx","_jsx","jsxs","_jsxs","cx","bind","Users","user","state","auth","login","currentUser","_useState","_useState2","_slicedToArray","allUsers","setAllUsers","dispatch","axiosJWT","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","getAllUser","sent","stop","apply","arguments","handleDelete","_ref2","_callee2","e","value","_callee2$","_context2","console","log","window","confirm","t0","deleteUser","target","_id","_x","className","children","map","index","email","name","address","specificAddress","phone","onClick"],"sources":["/Users/luuduylinh/Desktop/PhoneStore/src/components/Admin/Users/index.js"],"sourcesContent":["import styles from './Users.module.scss';\nimport classNames from 'classnames/bind';\nimport { useEffect, useState } from 'react';\nimport * as userService from '~/services/userService';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createAxios } from '~/createInstance';\nimport { loginSuccess } from '~/redux/authSlice';\n\nconst cx = classNames.bind(styles);\n\nfunction Users() {\n    const user = useSelector((state) => state.auth.login.currentUser);\n    const [allUsers, setAllUsers] = useState();\n    const dispatch = useDispatch();\n\n    let axiosJWT = createAxios(user, dispatch, loginSuccess);\n    useEffect(() => {\n        const fetchData = async () => {\n            const result = await userService.getAllUser(axiosJWT, user);\n            setAllUsers(result);\n        };\n        fetchData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleDelete = async (e) => {\n        console.log(allUsers);\n        const value = window.confirm('Xác nhận xóa người dùng');\n        value && (await userService.deleteUser(axiosJWT, user, allUsers[e.target.value]._id));\n    };\n    return (\n        <div className={cx('wrapper')}>\n            <div className={cx('body')}>\n                <div className={cx('product_list')}>\n                    <h3>Danh sách người dùng</h3>\n                    <table>\n                        <tbody>\n                            <tr>\n                                <th>STT</th>\n                                <th>Email</th>\n                                <th>Họ tên</th>\n                                <th>Địa chỉ</th>\n                                <th>Địa chỉ cụ thể</th>\n                                <th>Số điện thoại</th>\n                            </tr>\n\n                            {allUsers &&\n                                allUsers.map((user, index) => (\n                                    <tr key={index}>\n                                        <td>{index + 1}</td>\n                                        <td>{user.email}</td>\n                                        <td>{user.name}</td>\n                                        <td>{user.address}</td>\n                                        <td>{user.specificAddress}</td>\n                                        <td>{user.phone}</td>\n                                        <td className={cx('delete')}>\n                                            <button\n                                                className={cx('delete_icon')}\n                                                value={index}\n                                                onClick={(e) => handleDelete(e)}\n                                            >\n                                                Xóa\n                                            </button>\n                                        </td>\n                                    </tr>\n                                ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Users;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}